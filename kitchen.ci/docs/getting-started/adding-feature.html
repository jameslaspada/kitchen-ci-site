<html lang=en> <!--[if lt IE 7]>html.no-js.lt-ie9.lt-ie8.lt-ie7 lang="en"<![endif]--> <!--[if IE 7]>html.no-js.lt-ie9.lt-ie8 lang="en"<![endif]--> <!--[if IE 8]>html.no-js.lt-ie9 lang="en"<![endif]--> <!--[if (gte IE 8)]><html class=no-js><![endif]--> 
<!-- Mirrored from kitchen.ci/docs/getting-started/adding-feature by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 17 Aug 2015 23:12:38 GMT -->
<head> <meta charset=utf-8> <meta content='IE=edge' http-equiv=X-UA-Compatible> <title> Adding a New Feature - KitchenCI </title> <meta content='Test Kitchen' name=description> <meta content='Fletcher Nichol' name=author> <meta content='width=device-width, initial-scale=1.0' name=viewport> <link href="../../css/kitchen-26ac5aa6.css" media=screen rel=stylesheet /> <link href="http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700" media=screen rel=stylesheet /> <link href="http://fonts.googleapis.com/css?family=Open+Sans" media=screen rel=stylesheet /> <link href="http://fonts.googleapis.com/css?family=Inconsolata" media=screen rel=stylesheet /> </head> <body> <!--[if lt IE 7]><p class=browsehappy>You are using an <strong>outdated</strong> browser. Please <a href='//browsehappy.com/'>upgrade your browser</a> to improve your experience.</p><![endif]--> <nav class='navbar navbar-inverse navbar-fixed-top' role=navigation> <div class=container> <div class=navbar-header> <div class='button navbar-toggle' data-target='.navbar-collapse' data-toggle=collapse type=button> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </div> <a class=navbar-brand href="../../index.html">KitchenCI</a> </div> <div class='navbar-collapse collapse'> <ul class='nav navbar-nav'> <li class=''> <a href="../../index.html">Home</a> </li> <li class=''> <a href="../../blog/index.html">Blog</a> </li> <li class=''> <a href="index.html">Guide</a> </li> </ul> <ul class='nav navbar-nav navbar-right' id=contacts> <li> <a href='http://twitter.com/kitchenci'> <i class='fa fa-twitter'></i> </a> </li> <li> <a href='http://github.com/test-kitchen'> <i class='fa fa-github'></i> </a> </li> </ul> </div> </div> </nav> <div class=welcomewrap> <h1>Getting Started Guide</h1> </div> <div class=progress> <div aria-valuemax=100 aria-valuemin=0 aria-valuenow=guide_progress class=progress-bar role=progressbar style='width: 65.0%;'> <span class=sr-only id='65.0% Complete'></span> </div> </div> <div class='container guide'> <div class=row> <div class='article col-sm-8 col-md-8'> <div class=callout> <p> <strong>Previously:</strong> <a href='fixing-converge.html'>Fixing Converge</a> </p> </div> <span id=githubs> <h2>Adding a New Feature</h2> <a href='http://github.com/test-kitchen/kitchen-docs/edit/master/source/docs/getting-started/adding-feature.md'> <div class='glyphicon glyphicon-pencil'></div> </a> </span> <p>Now we're going to add limited support to our Git cookbook for a read-only Git daemon. This lets us see two new concepts in action: working with multiple suites and managing cookbook dependencies.</p>&#x000A;&#x000A;<table>&#x000A; <tbody>&#x000A; <tr>&#x000A; <td> </td>&#x000A; <td>Pro-Tip</td>&#x000A; </tr>&#x000A; <tr>&#x000A; <td> </td>&#x000A; <td>We're not looking to make the perfect Chef cookbook in this guide. There will be more than a couple style and code smells as we go but this is to keep us focused on driving our tool. Think of it as a dirty first-pass implementation. Plenty of room for refactoring!</td>&#x000A; </tr>&#x000A; </tbody>&#x000A;</table>&#x000A;&#x000A;<p>It seems like the reasonable thing to do would be to create another recipe in our Chef cookbook to deal with the Git server. After all, not every server that requires the Git tool needs to be a server. We are adding net-new behavior that needs to operate independently of the default recipe. So it's natural that we want to test these two behaviors in isolation.</p>&#x000A;&#x000A;<blockquote>&#x000A; <p><strong>Testing different behaviors of a codebase in isolation is the primary use case for Test Kitchen Suites.</strong></p>&#x000A;</blockquote>&#x000A;&#x000A;<p>Now that we have a feel for developing a Chef cookbook with Test Kitchen let's up the ante and add this feature test-first. That is, let's determine the acceptance criteria for a simple Git daemon and encode this as an executable test.</p>&#x000A;&#x000A;<p>After consulting the web and the man page for <code>git-daemon</code>, two simple acceptance criteria emerge:</p>&#x000A;&#x000A;<ul>&#x000A; <li>A process is listening on port 9418 (the default Git daemon port).</li>&#x000A; <li>A service is running called <code>"git-daemon"</code>. This name is arbitrary but shouldn't surprise anyone using this cookbook.</li>&#x000A;</ul>&#x000A;&#x000A;<p>Let's work through this step by step.</p>&#x000A;&#x000A; <hr> <div id=suggestions> <div class=row> <div class='col-sm-7 col-md-7 pull-left'> <p></p> </div> <div class='col-sm-5 col-md-5 pull-right'> <div class='maximum-button red full-width'> <a href='adding-suite.html'>Adding a Suite</a> <i class='glyphicon glyphicon-circle-arrow-right'></i> </div> </div> </div> </div> </div> <div class='col-sm-4 col-md-4'> <ul class=sections> <li> <a href='index.html'>Introduction</a> </li> <li> <a href='installing.html'>Installing Test Kitchen</a> </li> <li> <a href='getting-help.html'>Getting Help</a> </li> <li> <a href='creating-cookbook.html'>Creating a Cookbook</a> </li> <li> <a href='writing-recipe.html'>Writing a Recipe</a> </li> <li> <a href='running-converge.html'>Running Kitchen Converge</a> </li> <li> <a href='manually-verifying.html'>Manually Verifying</a> </li> <li> <a href='writing-test.html'>Writing a Test</a> </li> <li> <a href='running-verify.html'>Running Kitchen Verify</a> </li> <li> <a href='running-test.html'>Running Kitchen Test</a> </li> <li> <a href='adding-platform.html'>Adding a Platform</a> </li> <li> <a href='dynamic-configuration.html'>Dynamic Configuration</a> </li> <li> <a href='fixing-converge.html'>Fixing Converge</a> </li> <li class=bookmark> <i class='glyphicon glyphicon-bookmark'></i> <p>Adding a New Feature</p> </li> <li> <a href='adding-suite.html'>Adding a Suite</a> </li> <li> <a href='writing-server-test.html'>Writing a Server Test</a> </li> <li> <a href='writing-failing-recipe.html'>Writing a Failing Recipe</a> </li> <li> <a href='adding-dependency.html'>Adding a Dependency</a> </li> <li> <a href='backfilling-platforms.html'>Backfilling Platforms</a> </li> <li> <a href='next-steps.html'>Next Steps</a> </li> </ul> </div> </div> </div> </body> <script src="../../js/vendor/modernizr-2.6.2.min-76c5a590.js"></script> <script src="../../js/all-126c4e27.js"></script> <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','http://www.google-analytics.com/analytics.js','ga');
    
    ga('create', 'UA-39138312-3', 'kitchen.ci');
    ga('send', 'pageview');
  </script> 
<!-- Mirrored from kitchen.ci/docs/getting-started/adding-feature by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 17 Aug 2015 23:12:38 GMT -->
</html>